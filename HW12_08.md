# Домашнее задание к занятию "`Резервное копирование баз данных`" - `Мирошниченко Никита`

---

### Задание 1

1.1 Исходить нужно от размеров самой БД - подойти может как полный, инкрементный или дифференциальный типы резервного копирования. В данном случает лучше использовать дифференциальный тип резервного копирования, т.к. фиксируются только изменения в БД и данный аспект предоставляет возможность быстрее откатиться за выбранный временной промежуток и имеет меньший размер, чем инкрементный или ежедневный полный бекап.
1.2 Дифференциальный тип резервного копирования.
1.3* Такой вариант возможен если использовать репликацию: в случае выхода из строя кластера основной БД (Master) автоматически либо в ручном режиме возможно переключение на резервный кластер (Slave) - в таком случае Slave станет основным.

---

### Задание 2

2.1 Postgesql:

`pg_dump mydb > db.sql` - выгрузка базы данных mydb

`pg_restore -d mydb db.sql` - восстановление базы данных mydb

`pg_dumpall > /tmp/instance.bak` - выгрузка всех баз данных

2.1* Автоматизировать возможно путем создания скрипта и установка его запуска через планировщик (например, CRON в дистрибутивах Linux).

---

3.1 MYSQL:

```
mysqlbackup --defaults-file=/home/dbadmin/my.cnf --incremental --incremental-base=dir:/incr-backup/wednesday --incremental-backup-dir=/incr-backup/thursday backup
```

3.1* В случаях отказа работы виртуальных машин или сервера основной БД.

---